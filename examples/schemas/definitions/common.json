{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "definitions/common.json",
  "title": "Common Definitions",
  "description": "Common type definitions used across multiple schemas",
  "definitions": {
    "UUID": {
      "type": "string",
      "format": "uuid",
      "description": "Universally unique identifier"
    },
    "Email": {
      "type": "string",
      "format": "email",
      "description": "Email address"
    },
    "PhoneNumber": {
      "type": "string",
      "pattern": "^\\+?[1-9]\\d{1,14}$",
      "description": "Phone number in E.164 format"
    },
    "ISO8601DateTime": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 formatted date-time"
    },
    "ISO8601Date": {
      "type": "string",
      "format": "date",
      "description": "ISO 8601 formatted date"
    },
    "URL": {
      "type": "string",
      "format": "uri",
      "description": "Valid URL"
    },
    "Currency": {
      "type": "string",
      "enum": ["USD", "EUR", "GBP", "JPY", "CNY", "INR", "AUD", "CAD"],
      "description": "ISO 4217 currency code"
    },
    "Money": {
      "type": "object",
      "description": "Monetary amount with currency",
      "properties": {
        "amount": {
          "type": "number",
          "minimum": 0,
          "description": "Amount in smallest currency unit"
        },
        "currency": {
          "$ref": "#/definitions/Currency"
        }
      },
      "required": ["amount", "currency"]
    },
    "Address": {
      "type": "object",
      "description": "Physical or mailing address",
      "properties": {
        "street1": {
          "type": "string",
          "minLength": 1,
          "maxLength": 255
        },
        "street2": {
          "type": "string",
          "maxLength": 255
        },
        "city": {
          "type": "string",
          "minLength": 1,
          "maxLength": 100
        },
        "state": {
          "type": "string",
          "maxLength": 100
        },
        "postalCode": {
          "type": "string",
          "pattern": "^[A-Za-z0-9\\- ]{3,10}$"
        },
        "country": {
          "type": "string",
          "minLength": 2,
          "maxLength": 2,
          "description": "ISO 3166-1 alpha-2 country code"
        }
      },
      "required": ["street1", "city", "country"]
    },
    "GeoLocation": {
      "type": "object",
      "description": "Geographic coordinates",
      "properties": {
        "latitude": {
          "type": "number",
          "minimum": -90,
          "maximum": 90
        },
        "longitude": {
          "type": "number",
          "minimum": -180,
          "maximum": 180
        },
        "altitude": {
          "type": "number",
          "description": "Altitude in meters"
        },
        "accuracy": {
          "type": "number",
          "minimum": 0,
          "description": "Accuracy in meters"
        }
      },
      "required": ["latitude", "longitude"]
    },
    "Pagination": {
      "type": "object",
      "description": "Pagination metadata",
      "properties": {
        "page": {
          "type": "integer",
          "minimum": 1,
          "default": 1
        },
        "perPage": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "default": 20
        },
        "totalItems": {
          "type": "integer",
          "minimum": 0
        },
        "totalPages": {
          "type": "integer",
          "minimum": 0
        }
      },
      "required": ["page", "perPage"]
    },
    "AuditInfo": {
      "type": "object",
      "description": "Audit trail information",
      "properties": {
        "createdAt": {
          "$ref": "#/definitions/ISO8601DateTime"
        },
        "createdBy": {
          "$ref": "#/definitions/UUID"
        },
        "updatedAt": {
          "$ref": "#/definitions/ISO8601DateTime"
        },
        "updatedBy": {
          "$ref": "#/definitions/UUID"
        },
        "version": {
          "type": "integer",
          "minimum": 1
        }
      },
      "required": ["createdAt", "createdBy"]
    }
  }
}
