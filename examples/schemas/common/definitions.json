{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "common/definitions.json",
  "title": "Common Definitions",
  "description": "Shared definitions used across multiple schemas",
  "definitions": {
    "UUID": {
      "type": "string",
      "format": "uuid",
      "description": "Universally unique identifier",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$"
    },
    "Email": {
      "type": "string",
      "format": "email",
      "description": "Email address",
      "maxLength": 254
    },
    "PhoneNumber": {
      "type": "string",
      "description": "Phone number in E.164 format",
      "pattern": "^\\+[1-9]\\d{1,14}$"
    },
    "DateTime": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 date-time"
    },
    "Date": {
      "type": "string",
      "format": "date",
      "description": "ISO 8601 date"
    },
    "URL": {
      "type": "string",
      "format": "uri",
      "description": "Valid URL"
    },
    "Money": {
      "type": "object",
      "description": "Monetary amount with currency",
      "properties": {
        "amount": {
          "type": "number",
          "description": "Amount in smallest currency unit (e.g., cents)"
        },
        "currency": {
          "type": "string",
          "description": "ISO 4217 currency code",
          "pattern": "^[A-Z]{3}$",
          "examples": ["USD", "EUR", "GBP"]
        }
      },
      "required": ["amount", "currency"]
    },
    "Address": {
      "type": "object",
      "description": "Physical address",
      "properties": {
        "street_line_1": {
          "type": "string",
          "maxLength": 200
        },
        "street_line_2": {
          "type": "string",
          "maxLength": 200
        },
        "city": {
          "type": "string",
          "maxLength": 100
        },
        "state": {
          "type": "string",
          "maxLength": 100
        },
        "postal_code": {
          "type": "string",
          "maxLength": 20
        },
        "country": {
          "type": "string",
          "description": "ISO 3166-1 alpha-2 country code",
          "pattern": "^[A-Z]{2}$"
        }
      },
      "required": ["street_line_1", "city", "country"]
    },
    "GeoLocation": {
      "type": "object",
      "description": "Geographic coordinates",
      "properties": {
        "latitude": {
          "type": "number",
          "minimum": -90,
          "maximum": 90
        },
        "longitude": {
          "type": "number",
          "minimum": -180,
          "maximum": 180
        },
        "altitude": {
          "type": "number",
          "description": "Altitude in meters"
        },
        "accuracy": {
          "type": "number",
          "description": "Accuracy in meters",
          "minimum": 0
        }
      },
      "required": ["latitude", "longitude"]
    },
    "Pagination": {
      "type": "object",
      "description": "Pagination metadata",
      "properties": {
        "page": {
          "type": "integer",
          "minimum": 1,
          "default": 1
        },
        "per_page": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "default": 20
        },
        "total_items": {
          "type": "integer",
          "minimum": 0
        },
        "total_pages": {
          "type": "integer",
          "minimum": 0
        }
      },
      "required": ["page", "per_page"]
    },
    "AuditInfo": {
      "type": "object",
      "description": "Audit trail information",
      "properties": {
        "created_at": {
          "$ref": "#/definitions/DateTime"
        },
        "created_by": {
          "$ref": "#/definitions/UUID"
        },
        "updated_at": {
          "$ref": "#/definitions/DateTime"
        },
        "updated_by": {
          "$ref": "#/definitions/UUID"
        },
        "version": {
          "type": "integer",
          "minimum": 1
        }
      },
      "required": ["created_at", "version"]
    },
    "ErrorResponse": {
      "type": "object",
      "description": "Standard error response",
      "properties": {
        "code": {
          "type": "string",
          "description": "Error code"
        },
        "message": {
          "type": "string",
          "description": "Human-readable error message"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "field": {
                "type": "string"
              },
              "message": {
                "type": "string"
              },
              "code": {
                "type": "string"
              }
            }
          }
        },
        "request_id": {
          "$ref": "#/definitions/UUID"
        }
      },
      "required": ["code", "message"]
    },
    "ImageAsset": {
      "type": "object",
      "description": "Image asset with multiple sizes",
      "properties": {
        "original": {
          "$ref": "#/definitions/URL"
        },
        "thumbnail": {
          "$ref": "#/definitions/URL"
        },
        "medium": {
          "$ref": "#/definitions/URL"
        },
        "large": {
          "$ref": "#/definitions/URL"
        },
        "alt_text": {
          "type": "string",
          "maxLength": 500
        },
        "width": {
          "type": "integer",
          "minimum": 1
        },
        "height": {
          "type": "integer",
          "minimum": 1
        }
      },
      "required": ["original"]
    }
  }
}
